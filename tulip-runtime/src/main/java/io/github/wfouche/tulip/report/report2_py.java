package io.github.wfouche.tulip.report;

/// usr/bin/env jbang "$0" "$@" ; exit $?

// spotless:off
// DEPS com.google.code.gson:gson:2.13.1
// DEPS org.hdrhistogram:HdrHistogram:2.2.2
// DEPS org.python:jython-slim:2.7.4
// JAVA 21
// spotless:on

import java.util.Base64;
import org.python.util.PythonInterpreter;

public class report2_py {

    public static String mainScriptTextBase64 =
            "ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBwcmludF9mdW5jdGlvbgppbXBvcnQganNvbgppbXBvcnQgc3lzCmltcG9ydCBjb20uZ29vZ2xlLmdzb24uSnNvblBhcnNlciBhcyBKc29uUGFyc2VyCmltcG9ydCBvcwpmcm9tIGNvbGxlY3Rpb25zIGltcG9ydCBPcmRlcmVkRGljdAoKIyAvLy8gamJhbmcKIyByZXF1aXJlcy1qeXRob24gPSAiPT0yLjcuNCIKIyByZXF1aXJlcy1qYXZhID0gIj49MjEiCiMgZGVwZW5kZW5jaWVzID0gWwojICAgImNvbS5nb29nbGUuY29kZS5nc29uOmdzb246Mi4xMy4xIiwKIyAgICJvcmcuaGRyaGlzdG9ncmFtOkhkckhpc3RvZ3JhbToyLjIuMiIKIyBdCiMgW3B5dGhvbi1qdm1dCiMgICBkZWJ1ZyA9IGZhbHNlCiMgLy8vCgpoZWFkZXIgPSAnJyc9IF9fREVTQ1JJUFRJT05fXwo6dG9jOiBsZWZ0CjpzZWN0bnVtczoKOnBsYW50dW1sOiBsb2NhbGhvc3Q6ODA4MAo6cGxhbnR1bWwtZmV0Y2gtZGlhZ3JhbToKLy8gOnBsYW50dW1sOiBwbGFudHVtbC5jb20vcGxhbnR1bWwKLy8gOmRpYWdyYW0tc2VydmVyLXVybDogaHR0cHM6Ly9rcm9raS5pby8KLy8gOmRpYWdyYW0tc2VydmVyLXR5cGU6IGtyb2tpX2lvCgorKysrCjxzdHlsZT4KLyogQ1NTIGJsb2NrIGZvciBzdHlsaW5nIHRoZSBtYWluIGNvbnRlbnQgYXJlYSAqLwojY29udGVudCB7CiAgICBtYXgtd2lkdGg6IDExNDBweDsgLyogU2V0IHlvdXIgZGVzaXJlZCBtYXhpbXVtIHdpZHRoICovCiAgICBtYXJnaW46IDAgYXV0bzsgIC8qIENlbnRlciB0aGUgY29udGVudCAqLwogICAgcGFkZGluZzogMCAxZW07IC8qIEFkZCBzb21lIGhvcml6b250YWwgcGFkZGluZyAqLwp9Ci8qIFlvdSBjYW4gYWxzbyB0YXJnZXQgb3RoZXIgZWxlbWVudHMgbGlrZSBoZWFkZXIgb3IgZm9vdGVyICovCiNoZWFkZXIsICNmb290ZXIgewogICAgbWF4LXdpZHRoOiAxMTQwcHg7IC8qIEFwcGx5IHRoZSBzYW1lIG1heC13aWR0aCB0byBoZWFkZXIgYW5kIGZvb3RlciAqLwogICAgbWFyZ2luOiAwIGF1dG87Cn0KPC9zdHlsZT4KKysrKwoKRmlsZW5hbWU6OgogIF9fQ09ORklHX0ZJTEVOQU1FX18KCj09IEFjdGlvbnMKCj09PSBDb25maWd1cmF0aW9uCgpbJWhlYWRlcixjb2xzPSIxYSw0YSJdCnw9PT0KfCBpZCB8IHZhbHVlCicnJwoKZGVmIGNyZWF0ZVJlcG9ydChmaWxlbmFtZSk6CgogICAgZGVmIHByaW50ZihzKToKICAgICAgICByZXBvcnRfZmgud3JpdGUocykKCiAgICBkZWYgYWN0aW9uTmFtZShzKToKICAgICAgICByZXR1cm4gcy5zcGxpdCgiLCIpWzBdLnN0cmlwKCkKCiAgICBkZWYgYWN0aW9uRGVzYyhzKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHJldHVybiBzLnNwbGl0KCIsIilbMV0uc3RyaXAoKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcmV0dXJuICIiCgogICAgZGVmIGdlbmVyYXRlX3RhYmxlMShlKToKICAgICAgICBwcmludGYoInwgKiIgKyBlICsgIipcbiIpCiAgICAgICAgcHJpbnRmKCJ8XG4iKQogICAgICAgIHByaW50ZignWyVoZWFkZXIsY29scz0iMWEsM2EiXVxuJykKICAgICAgICBwcmludGYoJyE9PT1cbicpCiAgICAgICAgcHJpbnRmKCchIGlkICEgdmFsdWUgXG4nKQogICAgICAgIGZvciBrIGluIGpiWydhY3Rpb25zJ11bZV0ua2V5cygpOgogICAgICAgICAgICBwcmludGYoJyEgKicgKyBrICsgJyogJykKICAgICAgICAgICAgcHJpbnRmKCchICcgKyBzdHIoamJbJ2FjdGlvbnMnXVtlXVtrXSkgKyAnXG4nKQogICAgICAgIHByaW50ZignIT09PVxuJykKCiAgICBkZWYgZ2VuZXJhdGVfdGFibGUyKGUpOgogICAgICAgIHByaW50ZigifCAqIiArIGUgKyAiKlxuIikKICAgICAgICBwcmludGYoInxcbiIpCiAgICAgICAgcHJpbnRmKCdbJWhlYWRlcixjb2xzPSIyYSwyYSw0YSJdXG4nKQogICAgICAgIHByaW50ZignIT09PVxuJykKICAgICAgICBwcmludGYoJyEgaWQgISB2YWx1ZSAhIGRlc2NyaXB0aW9uXG4nKQogICAgICAgIGZvciBrIGluIGpiWydhY3Rpb25zJ11bZV0ua2V5cygpOgogICAgICAgICAgICBwcmludGYoJyEgKicgKyBrICsgJyogJykKICAgICAgICAgICAgcHJpbnRmKCchICcgKyBhY3Rpb25OYW1lKHN0cihqYlsnYWN0aW9ucyddW2VdW2tdKSkpCiAgICAgICAgICAgIHByaW50ZignISAnICsgYWN0aW9uRGVzYyhzdHIoamJbJ2FjdGlvbnMnXVtlXVtrXSkpICsgJ1xuJykKICAgICAgICBwcmludGYoJyE9PT1cbicpCgogICAgZGVmIGdlbmVyYXRlX3dvcmtmbG93KCk6CiAgICAgICAgZGlhZ0lkID0gLTEKICAgICAgICBkZWYgbmFtZV90b19pZChzKToKICAgICAgICAgICAgaWYgcyBpbiAnLSc6CiAgICAgICAgICAgICAgICByZXR1cm4gMAogICAgICAgICAgICByZXR1cm4gaW50KHMpCiAgICAgICAgZGVmIGFjdGlvbl9uYW1lKHMpOgogICAgICAgICAgICBpZiBzIGluIGpiWydhY3Rpb25zJ11bJ3VzZXJfYWN0aW9ucyddLmtleXMoKToKICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpb25OYW1lKGpiWydhY3Rpb25zJ11bJ3VzZXJfYWN0aW9ucyddW3NdKQogICAgICAgICAgICByZXR1cm4gJzx1bmtub3duPicKCiAgICAgICAgI3ByaW50KGpiLmtleXMoKSkKICAgICAgICAjcHJpbnQoamJbIndvcmtmbG93cyJdLmtleXMoKSkKICAgICAgICBmb3Igd24gaW4gamJbIndvcmtmbG93cyJdLmtleXMoKToKICAgICAgICAgICAgZGlhZ0lkICs9IDEKICAgICAgICAgICAgcHJpbnRmKCJcbiIpCiAgICAgICAgICAgIHByaW50ZigiW1slc11dXG4iJSh3bikpCiAgICAgICAgICAgIHByaW50ZigiPT09ICIgKyAiJXNcbiIlKHduKSkKICAgICAgICAgICAgcHJpbnRmKCJcbiIpCiAgICAgICAgICAgIHByaW50ZignWyVoZWFkZXIsY29scz0iMWEsMWEiXVxuJykKICAgICAgICAgICAgcHJpbnRmKCd8PT09XG4nKQogICAgICAgICAgICBwcmludGYoJ3wgV29ya2Zsb3cgRGlhZ3JhbSB8IFNwZWNpZmljYXRpb25cbicpCiAgICAgICAgICAgIHByaW50ZignfCcpCiAgICAgICAgICAgIHByaW50ZigiW3BsYW50dW1sLHdmZCVkLHN2Z10iJShkaWFnSWQpICsgJ1xuJykKICAgICAgICAgICAgcHJpbnRmKCctLS0tXG4nKQogICAgICAgICAgICBwcmludGYoJ0BzdGFydHVtbFxuJykKICAgICAgICAgICAgI3ByaW50ZigndGl0bGUgJXNcbiclKHduKSkKICAgICAgICAgICAgZm9yIHNuYW1lIGluIGpiWyd3b3JrZmxvd3MnXVt3bl0ua2V5cygpOgogICAgICAgICAgICAgICAgaWYgc25hbWUgaW4gWyctJ106CiAgICAgICAgICAgICAgICAgICAgcHJpbnRmKCdzdGF0ZSAiLSIgYXMgQTBcbicpCiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgIHNpZCA9IGludChzbmFtZSkKICAgICAgICAgICAgICAgIHByaW50Zignc3RhdGUgIkFjdGlvbiAlZCIgYXMgQSVkXG4nJShzaWQsc2lkKSkKICAgICAgICAgICAgICAgIHByaW50ZignQSVkOiA8JXM+XG4nJShzaWQsYWN0aW9uX25hbWUoc25hbWUpKSkKICAgICAgICAgICAgICAgIHByaW50ZignXG4nKQogICAgICAgICAgICBmb3Igc25hbWUgaW4gamJbJ3dvcmtmbG93cyddW3duXS5rZXlzKCk6CiAgICAgICAgICAgICAgICBpZiBzbmFtZSBpbiBbJyonXToKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgaWYgc25hbWUgaW4gWyctJ106CiAgICAgICAgICAgICAgICAgICAgbWlkID0gMAogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBtaWQgPSBpbnQoc25hbWUpCiAgICAgICAgICAgICAgICBmb3IgayBpbiBqYlsnd29ya2Zsb3dzJ11bd25dW3NuYW1lXS5rZXlzKCk6CiAgICAgICAgICAgICAgICAgICAgbmlkID0gbmFtZV90b19pZChrKQogICAgICAgICAgICAgICAgICAgIGZ2ID0gamJbJ3dvcmtmbG93cyddW3duXVtzbmFtZV1ba10KICAgICAgICAgICAgICAgICAgICBwcmludGYoJ0ElZCAtLT4gQSVkOiAlLjNmXG4nJShtaWQsbmlkLGZ2KSkKICAgICAgICAgICAgcHJpbnRmKCdAZW5kdW1sXG4nKQogICAgICAgICAgICBwcmludGYoJy0tLS1cbicpCiAgICAgICAgICAgIHByaW50ZignfCBcbicpCiAgICAgICAgICAgIHByaW50ZignW3NvdXJjZSxqc29uXVxuJykKICAgICAgICAgICAgcHJpbnRmKCctLS0tXG4nKQogICAgICAgICAgICBwcmludGYoJyVzXG4nJShqc29uLmR1bXBzKGpiWyd3b3JrZmxvd3MnXVt3bl0sIGluZGVudD00KSkpCiAgICAgICAgICAgIHByaW50ZignLS0tLVxuJykKICAgICAgICAgICAgcHJpbnRmKCd8PT09XG4nKQoKICAgICNwcmludCgiXG5Db25maWcgZmlsZW5hbWUgPSAiICsgZmlsZW5hbWUpCgogICAgIyByZXBvcnQgZGlyCiAgICByZXBvcnRfZGlyID0gIi4iCiAgICBjb25maWdfZGlyID0gIi4iCiAgICBpZiBvcy5wYXRoLmlzZGlyKCJidWlsZC9yZXBvcnRzL3R1bGlwIik6CiAgICAgICAgcmVwb3J0X2RpciA9ICJidWlsZC9yZXBvcnRzL3R1bGlwIgogICAgICAgIGNvbmZpZ19kaXIgPSAic3JjL21haW4vcmVzb3VyY2VzIgoKICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyhmaWxlbmFtZSk6CiAgICAgICAgZmlsZW5hbWUgPSBjb25maWdfZGlyICsgIi8iICsgZmlsZW5hbWUKCiAgICAjIC5qc29uLy5qc29uYyAtPiAuYWRvYwogICAgZl9leHQgPSBvcy5wYXRoLnNwbGl0ZXh0KGZpbGVuYW1lKVsxXQogICAgcmVwb3J0X2ZuID0gZmlsZW5hbWVbOi1sZW4oZl9leHQpXSsiLmFkb2MiCiAgICByZXBvcnRfZm4gPSBvcy5wYXRoLmJhc2VuYW1lKHJlcG9ydF9mbikKICAgIHJlcG9ydF9mcCA9IHJlcG9ydF9kaXIgKyAiLyIgKyByZXBvcnRfZm4KICAgIHJlcG9ydF9maCA9IG9wZW4ocmVwb3J0X2ZwLCAidysiKQoKICAgICMgUmVtb3ZlIGFsbCBKU09OQyBjb21tZW50cyBmcm9tIHRoZSBKU09OCiAgICBzZiA9IG9wZW4oZmlsZW5hbWUsJ3InKS5yZWFkKCkKICAgIGdzb25Kc29uVHJlZSA9IEpzb25QYXJzZXIucGFyc2VTdHJpbmcoc2YpCiAgICBqc29uV2l0aG91dENvbW1lbnRzID0gZ3Nvbkpzb25UcmVlLnRvU3RyaW5nKCkKICAgIGdzb25Kc29uVHJlZSA9IE5vbmUKCiAgICAjIFJlc3RvcmUgSlNPTiBmcm9tIFN0cmluZwogICAgamIgPSBqc29uLmxvYWRzKGpzb25XaXRob3V0Q29tbWVudHMsIG9iamVjdF9wYWlyc19ob29rPU9yZGVyZWREaWN0KQogICAganNvbldpdGhvdXRDb21tZW50cyA9IE5vbmUKCiAgICAjIHByaW50IGhlYWRlcgogICAgcHJpbnRmKGhlYWRlci5yZXBsYWNlKCJfX0NPTkZJR19GSUxFTkFNRV9fIiwgZmlsZW5hbWUpLnJlcGxhY2UoIl9fREVTQ1JJUFRJT05fXyIsIGpiWydhY3Rpb25zJ11bJ2Rlc2NyaXB0aW9uJ10pKQoKICAgICMgQWN0aW9ucwogICAgZm9yIGUgaW4gamJbJ2FjdGlvbnMnXS5rZXlzKCk6CiAgICAgICAgaWYgZSBpbiBbJ3VzZXJfcGFyYW1zJywgJ3VzZXJfYWN0aW9ucyddOgogICAgICAgICAgICBpZiBlID09ICd1c2VyX3BhcmFtcyc6CiAgICAgICAgICAgICAgICBnZW5lcmF0ZV90YWJsZTEoZSkKICAgICAgICAgICAgaWYgZSA9PSAndXNlcl9hY3Rpb25zJzoKICAgICAgICAgICAgICAgIGdlbmVyYXRlX3RhYmxlMihlKQogICAgICAgICAgICBjb250aW51ZQogICAgICAgICMgfCAqZGVzY3JpcHRpb24qCiAgICAgICAgIyB8IE1pY3JvLWJlbmNobWFya3MKICAgICAgICBwcmludGYoInwgKiIgKyBlICsgJypcbicpCiAgICAgICAgcHJpbnRmKCJ8ICIgKyBqYlsnYWN0aW9ucyddW2VdICsgJ1xuJykKICAgIHByaW50ZigifD09PSIgKyAnXG4nKQoKICAgICMgV29ya2Zsb3dzCiAgICBpZiAid29ya2Zsb3dzIiBpbiBqYi5rZXlzKCk6CiAgICAgICAgcHJpbnRmKCJcbiIpCiAgICAgICAgcHJpbnRmKCI9PSBXb3JrZmxvd3MgXG4iKQogICAgICAgIGdlbmVyYXRlX3dvcmtmbG93KCkKCiAgICAjIENvbnRleHQgRGF0YQogICAgcHJpbnRmKCJcbiIpCiAgICBwcmludGYoIj09IENvbnRleHRzXG4iKQogICAgcHJpbnRmKCJcbiIpCgogICAgZm9yIGsgaW4gamJbJ2NvbnRleHRzJ10ua2V5cygpOgogICAgICAgIGMgPSBqYlsnY29udGV4dHMnXVtrXQogICAgICAgIHByaW50ZignPT09ICVzJyUoaykgKyAnXG4nKQogICAgICAgIHByaW50ZignXG4nKQogICAgICAgIHByaW50ZignWyVoZWFkZXIsY29scz0iMWEsMmEiXVxuJykKICAgICAgICBwcmludGYoJ3w9PT1cbicpCiAgICAgICAgcHJpbnRmKCd8IGlkIHwgdmFsdWUgXG4nKQogICAgICAgIGlmICJlbmFibGVkIiBpbiBjLmtleXMoKToKICAgICAgICAgICAgcHJpbnRmKCd8ICplbmFibGVkKiB8ICVzXG4nJShjWyJlbmFibGVkIl0pKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50ZignfCAqZW5hYmxlZCogfCBUcnVlXG4nKQogICAgICAgIHByaW50ZignfCAqbnVtX3VzZXJzKiAgIHwgJWRcbiclKGNbIm51bV91c2VycyJdKSkKICAgICAgICBwcmludGYoJ3wgKm51bV90aHJlYWRzKiB8ICVkXG4nJShjWyJudW1fdGhyZWFkcyJdKSkKICAgICAgICBwcmludGYoInw9PT1cbiIpCgogICAgIyBCZW5jaG1hcmtzIERhdGEKICAgIHByaW50ZigiXG4iKQogICAgcHJpbnRmKCI9PSBCZW5jaG1hcmtzXG4iKQogICAgZm9yIGsgaW4gamJbJ2JlbmNobWFya3MnXS5rZXlzKCk6CiAgICAgICAgYiA9IGpiWydiZW5jaG1hcmtzJ11ba10KICAgICAgICBwcmludGYoIlxuIikKICAgICAgICBwcmludGYoJz09PSAlcyclKGspICsgJ1xuJykKICAgICAgICBwcmludGYoIlxuIikKICAgICAgICBwcmludGYoJ1slaGVhZGVyLGNvbHM9IjFhLDJhIl1cbicpCiAgICAgICAgcHJpbnRmKCJ8PT09XG4iKQogICAgICAgIHByaW50ZigifCBpZCB8IHZhbHVlXG4iKQogICAgICAgICMgZW5hYmxlZAogICAgICAgIGlmICJlbmFibGVkIiBpbiBiLmtleXMoKToKICAgICAgICAgICAgcHJpbnRmKCd8ICplbmFibGVkKiB8ICVzXG4nJShiWyJlbmFibGVkIl0pKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50ZignfCAqZW5hYmxlZCogfCBUcnVlXG4nKQogICAgICAgICMgYXBzX3JhdGUKICAgICAgICBpZiAiYXBzX3JhdGUiIGluIGIua2V5cygpOgogICAgICAgICAgICBwcmludGYoJ3wgKmFwc19yYXRlKiB8ICUuMWZcbiclKGJbImFwc19yYXRlIl0pKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50ZignfCAqYXBzX3JhdGUqIHwgMC4wXG4nKQogICAgICAgIGlmICJhcHNfcmF0ZV9zdGVwX2NoYW5nZSIgaW4gYi5rZXlzKCk6CiAgICAgICAgICAgIHByaW50ZignfCAqYXBzX3JhdGVfc3RlcF9jaGFuZ2UqIHwgJS4xZlxuJyUoYlsiYXBzX3JhdGVfc3RlcF9jaGFuZ2UiXSkpCiAgICAgICAgaWYgImFwc19yYXRlX3N0ZXBfY291bnQiIGluIGIua2V5cygpOgogICAgICAgICAgICBwcmludGYoJ3wgKmFwc19yYXRlX3N0ZXBfY291bnQqIHwgJWRcbiclKGJbImFwc19yYXRlX3N0ZXBfY291bnQiXSkpCgogICAgICAgICMgd29ya2VyX3RocmVhZF9xdWV1ZV9zaXplCiAgICAgICAgaWYgIndvcmtlcl90aHJlYWRfcXVldWVfc2l6ZSIgaW4gYi5rZXlzKCk6CiAgICAgICAgICAgIHByaW50ZignfCAqd29ya2VyX3RocmVhZF9xdWV1ZV9zaXplKiB8ICVkXG4nJShiWyJ3b3JrZXJfdGhyZWFkX3F1ZXVlX3NpemUiXSkpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnRmKCd8ICp3b3JrZXJfdGhyZWFkX3F1ZXVlX3NpemUqIHwgMFxuJykKICAgICAgICAjIHdvcmtmbG93CiAgICAgICAgaWYgInNjZW5hcmlvX3dvcmtmbG93IiBpbiBiLmtleXMoKToKICAgICAgICAgICAgd29ya2Zsb3dfaXNfZGVmaW5lZCA9IGJbInNjZW5hcmlvX3dvcmtmbG93Il0gaW4gamJbIndvcmtmbG93cyJdLmtleXMoKQogICAgICAgICAgICBpZiB3b3JrZmxvd19pc19kZWZpbmVkOgogICAgICAgICAgICAgICAgcHJpbnRmKCd8ICpzY2VuYXJpb193b3JrZmxvdyogfCA8PCVzPj5cbiclKGJbInNjZW5hcmlvX3dvcmtmbG93Il0pKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHJpbnRmKCd8ICpzY2VuYXJpb193b3JrZmxvdyogfCBFcnJvciwgc2NlbmFyaW9fd29ya2Zsb3cgKiVzKiBpcyBub3QgZGVmaW5lZFxuJyUoYlsic2NlbmFyaW9fd29ya2Zsb3ciXSkpCiAgICAgICAgZWxpZiAic2NlbmFyaW9fYWN0aW9ucyIgaW4gYi5rZXlzKCk6CiAgICAgICAgICAgIHByaW50ZignfCAqc2NlbmFyaW9fYWN0aW9ucyogXG4nKQogICAgICAgICAgICBwcmludGYoJ3wgXG4nKQogICAgICAgICAgICBwcmludGYoJ1slaGVhZGVyLGNvbHM9IjFhLDJhIl1cbicpCiAgICAgICAgICAgIHByaW50ZignIT09PVxuJykKICAgICAgICAgICAgcHJpbnRmKCchIGlkICEgd2VpZ2h0IFxuJykKICAgICAgICAgICAgZm9yIGEgaW4gYlsic2NlbmFyaW9fYWN0aW9ucyJdOgogICAgICAgICAgICAgICAgcHJpbnRmKCchICVkXG4nJShhWyJpZCJdKSkKICAgICAgICAgICAgICAgIGlmICJ3ZWlnaHQiIGluIGEua2V5cygpOgogICAgICAgICAgICAgICAgICAgIHByaW50ZignISAlZCBcbiclKGFbIndlaWdodCJdKSkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgcHJpbnRmKCchIC0gXG4nKQogICAgICAgICAgICBwcmludGYoJyE9PT1cbicpCiAgICAgICAgIyB0aW1lCiAgICAgICAgaWYgInRpbWUiIGluIGIua2V5cygpOgogICAgICAgICAgICBwcmludGYoJ3wgKnRpbWUqIFxuJykKICAgICAgICAgICAgcHJpbnRmKCd8IFxuJykKICAgICAgICAgICAgcHJpbnRmKCdbJW5vaGVhZGVyLGNvbHM9IjJhLDFhIl1cbicpCiAgICAgICAgICAgIHByaW50ZignIT09PVxuJykKICAgICAgICAgICAgI3ByaW50ZignISBpZCAhIHZhbHVlIFxuJykKICAgICAgICAgICAgZm9yIGsgaW4gYlsidGltZSJdLmtleXMoKToKICAgICAgICAgICAgICAgIHByaW50ZignISAqJXMqXG4nJShrKSkKICAgICAgICAgICAgICAgIGlmIGsgPT0gImJlbmNobWFya19pdGVyYXRpb25zIjoKICAgICAgICAgICAgICAgICAgICBwcmludGYoJyEgJWRcbiclKGJbInRpbWUiXVtrXSkpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHByaW50ZignISAlZCBzZWNvbmRzXG4nJShiWyJ0aW1lIl1ba10pKQogICAgICAgICAgICBwcmludGYoJyE9PT1cbicpCgogICAgICAgIHByaW50ZigifD09PVxuIikKCiAgICByZXBvcnRfZmguY2xvc2UoKQogICAgcmV0dXJuIHJlcG9ydF9mcAoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGlmIGxlbihzeXMuYXJndikgPj0gMjoKICAgICAgICBmaWxlbmFtZSA9IHN5cy5hcmd2WzFdCiAgICAgICAgY3JlYXRlUmVwb3J0KGZpbGVuYW1lKQo=";

    public static void main(String... args) {
        String mainScriptFilename = "report2.py";
        String mainScript = "";
        String pythonArgsScript = "";
        for (String arg : args) {
            if (pythonArgsScript.length() == 0) {
                if (!arg.equals(mainScriptFilename)) {
                    pythonArgsScript += "'" + mainScriptFilename + "', ";
                }
            } else {
                pythonArgsScript += ", ";
            }
            pythonArgsScript += "'" + arg + "'";
        }
        if (pythonArgsScript.length() == 0) {
            pythonArgsScript = "'" + mainScriptFilename + "'";
        }
        pythonArgsScript = "import sys; sys.argv = [" + pythonArgsScript + "]";
        {
            byte[] decodedBytes = Base64.getDecoder().decode(mainScriptTextBase64);
            String text = new String(decodedBytes);
            mainScript = text;
        }
        {
            // create Python interpreter object
            PythonInterpreter pyInterp = new PythonInterpreter();
            // initialize command-line args
            pyInterp.exec(pythonArgsScript);
            // run script
            pyInterp.exec(mainScript);
        }
    }
}
